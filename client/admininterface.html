<template name="admin">

    <div class="panel panel-default pull-right">
      <div class="panel-heading">
        Remote View
        <button type="button" class="btn btn-default startstreamingbtn">
        {{#if enabledStreaming}}Disable{{else}}Enable{{/if}}
      </button>
      </div>
      {{#if enabledStreaming}}
      <div class="panel-body" style="padding: 2px">
      <div style="position: relative; width:100%; height:100%;width:{{remoteViewWidth}}px; height: {{remoteViewHeight}}px; border: 1px dashed black;">
      <div style="width: {{clientWidth}}px; height: {{clientHeight}}px; position:relative; -webkit-transform-origin: left top; -webkit-transform: {{scaleTransform}}; position: relative; overflow:hidden;">
        {{> mediaDisplay media=currentPlaying isRemote=true loopMedia=true}}
      </div>
      </div>
      </div>
      {{/if}}
    </div>


  <div class="jumbotron">
    <h1>Hyundai Copa 2014</h1>
    <p>AR Admin Interface - <i>Conception</i></p>
  </div>
  <div class="container">
    <h3>Media</h3>
    {{> contentList medias=medias bgImages=bgImages}}
    {{> mediauploader}}

    <h3>Background Images</h3>
    {{> imagelist images=bgImages}}
    {{> imageuploader}}
  </div>

</template>

<template name="mediauploader">
  <form class="dropzone" id="dropzoneform" action="#">
    <label for="fileselect">Upload Video:</label>
    <input type="file" id="fileselect" name="fileselect[]" multiple="multiple" />
  </form>
</template>

<template name="imageuploader">
  <form class="dropzone" id="dropzoneform" action="#">
    <label for="fileselect">Upload Background Image:</label>
    <input type="file" id="fileselect" name="fileselect[]" multiple="multiple" />
  </form>
</template>

<template name="imagelist">
  <div id="list">
    {{#each images}}
      <div class="item clearfix">
        URL: <a href="{{this.url}}">{{this.name}}</a>
        {{#if isUploaded}} {{else}}
        <span class="badge"> uploading ... </span>
        {{/if}}
      </div>
    {{/each}}
  </div>
</template>

<template name="contentList">
  <div id="list">
  {{#each medias}}
  <div class="item clearfix">
  URL: <a href="{{this.url}}">{{this.name}}</a>
  {{#if isUploaded}}
    {{#if isCurrentlyPlaying this}}
    <span class="badge">(playing)</span>
    {{/if}}
    <div style="display:inline-block" class="pull-right">
      <label>BG Image:<select class="form-control bgImageSelector" style="width: 150px; display: inline-block;">
        <option>none</option>
        {{#each ../bgImages}}
          <option value="{{this._id}}" selected="{{selectedBGImage ../backgroundImage}}">{{name}}</option>
        {{/each}}
      </select>
      </label>
      <label>
        100% Height: <input type="checkbox" class="full_height_check" checked="{{fullHeight}}">
      </label>
      <label>
        Alpha Vid: <input type="checkbox" class="alpha_check" checked="{{isAlpha}}">
      </label>
      <div class="btn-group">
        <button type="button" class="playbtn btn btn-default"><span class="glyphicon glyphicon-play"></span> Play Now</button>
        <a href="/calibrate/{{this._id}}" class="calibratebtn btn btn-default" disabled="{{fullHeight}}"><span class="glyphicon glyphicon-cog"></span> Calibrate</a>
        <button type="button" class="removebtn btn btn-default"><span class="glyphicon glyphicon-remove"></span> Delete</button>
      </div>
    </div>

  {{else}}
     <span class="bg-warning text-warning"> uploading... </span>

    <button type="button" class="removebtn btn btn-default pull-right"><span class="glyphicon glyphicon-remove"></span> cancel</button>
  {{/if}}
  </div>
    {{/each}}
  </div>
</template>


